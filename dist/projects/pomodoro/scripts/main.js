// To see the unminified version visit https://github.com/oskarwilczynski/pomodoro/blob/master/scripts/main.js

"use strict";function intervalTimer(e,n){var i=void 0,t=0,r=0;this.pause=function(){1==r&&(t=n-(new Date-i),window.clearInterval(timerId),r=2)},this.resume=function(){clearTimeout(timerId),2==r&&(r=3,window.setTimeout(this.timeoutCallback,t))},this.timeoutCallback=function(){3==r&&(e(),i=new Date,timerId=window.setInterval(e,n),r=1)},i=new Date,timerId=window.setInterval(e,n),r=1}function workOn(){$("mode").innerHTML=this.innerHTML,$("minutes").innerHTML=workTime,$("seconds").innerHTML="00",$("alarm").pause()}function longBreakOn(){$("mode").innerHTML=this.innerHTML,$("minutes").innerHTML=longBreakTime,$("seconds").innerHTML="00",$("alarm").pause()}function shortBreakOn(){$("mode").innerHTML=this.innerHTML,$("minutes").innerHTML=shortBreakTime,$("seconds").innerHTML="00",$("alarm").pause()}function leadingZeros(e){return("00"+e).slice(-2)}function timeSaver(){"Work"==$("mode").innerHTML?workTime=$("minutes").innerHTML:"Long Break"==$("mode").innerHTML?longBreakTime=$("minutes").innerHTML:shortBreakTime=$("minutes").innerHTML}function addTimeButton(){$("minutes").innerHTML=parseInt($("minutes").innerHTML)+1,$("minutes").innerHTML=leadingZeros($("minutes").innerHTML),61==$("minutes").innerHTML&&($("minutes").innerHTML="01"),timeSaver()}function reduceTimeButton(){$("minutes").innerHTML=parseInt($("minutes").innerHTML)-1,$("minutes").innerHTML=leadingZeros($("minutes").innerHTML),0==$("minutes").innerHTML&&($("minutes").innerHTML="60"),timeSaver()}function pauseOn(){clockInterval.pause(),$("pause").setAttribute("style","display: none !important;"),$("resume").setAttribute("style","display: inline-block !important;")}function resumeOn(){clockInterval.resume(),$("resume").setAttribute("style","display: none !important;"),$("pause").setAttribute("style","display: inline-block !important;")}function startTimer(){$("work").removeEventListener("click",workOn),$("longBreak").removeEventListener("click",longBreakOn),$("shortBreak").removeEventListener("click",shortBreakOn),$("addTime").removeEventListener("click",addTimeButton),$("reduceTime").removeEventListener("click",reduceTimeButton),$("start").removeEventListener("click",startTimer),$("resume").addEventListener("click",resumeOn),$("pause").addEventListener("click",pauseOn),clockInterval=new intervalTimer(function(){0==$("seconds").innerHTML?"00"!==$("minutes").innerHTML?($("minutes").innerHTML-=1,$("minutes").innerHTML=leadingZeros($("minutes").innerHTML),$("seconds").innerHTML="59"):"00"==$("minutes").innerHTML&&(clearInterval(clock),$("alarm").play(),$("work").addEventListener("click",workOn),$("longBreak").addEventListener("click",longBreakOn),$("shortBreak").addEventListener("click",shortBreakOn)):0!==$("seconds").innerHTML&&($("seconds").innerHTML-=1,$("seconds").innerHTML=leadingZeros($("seconds").innerHTML))},1e3)}var $=function(e){return document.getElementById(e)},clock=void 0,timerId=void 0,clockInterval=void 0,count=void 0,workTime="25",longBreakTime="15",shortBreakTime="05";$("work").addEventListener("click",workOn),$("longBreak").addEventListener("click",longBreakOn),$("shortBreak").addEventListener("click",shortBreakOn),$("reset").addEventListener("click",function(){$("work").addEventListener("click",workOn),$("longBreak").addEventListener("click",longBreakOn),$("shortBreak").addEventListener("click",shortBreakOn),$("addTime").addEventListener("click",addTimeButton),$("reduceTime").addEventListener("click",reduceTimeButton),$("start").addEventListener("click",startTimer),$("pause").removeEventListener("click",pauseOn),$("resume").removeEventListener("click",resumeOn),clearInterval(timerId),$("alarm").pause(),$("mode").innerHTML="Work",$("minutes").innerHTML="25",$("seconds").innerHTML="00",workTime="25",longBreakTime="15",shortBreakTime="05"}),$("addTime").addEventListener("click",addTimeButton),$("reduceTime").addEventListener("click",reduceTimeButton),$("start").addEventListener("click",startTimer);