(this["webpackJsonpcity-info"]=this["webpackJsonpcity-info"]||[]).push([[0],{106:function(e,t){},199:function(e,t){},229:function(e,t){},268:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),i=n(34),o=n.n(i),s=n(14),u=n(16),j=n.n(u),l=n(38),p=n(22),f=n(132),b=n.n(f),h=n(8),d=n(9);function O(){var e=Object(h.a)(["\n    color: grey;\n    font-size: 1.75vw;\n    text-align: center;\n"]);return O=function(){return e},e}function v(){var e=Object(h.a)(["\n    color: grey;\n    font-size: 4vw;\n    letter-spacing: 0.3vw;\n    text-align: center;\n"]);return v=function(){return e},e}function g(){var e=Object(h.a)(["\n    padding-top: 8vw;\n"]);return g=function(){return e},e}var x=d.a.div(g()),m=d.a.h1(v()),w=d.a.p(O()),y=function(){return Object(r.jsxs)(x,{children:[Object(r.jsx)(m,{children:"Just search for the city..."}),Object(r.jsx)(w,{children:"CityInfo is a simple React web app that lets you see the city information such as basic description, weather or live events."})]})},k=n(139),S=n.n(k),C=n(284),A=n(287),q=n(289),_=n(288);function z(){var e=Object(h.a)(["\n    font-size: 1.75vw;\n    text-align: center;\n"]);return z=function(){return e},e}function E(){var e=Object(h.a)(["\n    font-size: 4vw;\n    letter-spacing: 0.3vw;\n    text-align: center;\n"]);return E=function(){return e},e}var I=d.a.h1(E()),U=d.a.p(z()),F=function(e){var t=e.component,n=e.error;return Object(r.jsxs)("div",{children:[Object(r.jsxs)(I,{children:["Error! API fetch failed for ",t,"."]}),Object(r.jsx)(U,{children:n})]})};function M(){var e=Object(h.a)(["\n    && {\n        margin-top: 3vw;\n        margin-bottom: 1vw;\n        width: 58%;\n        float: left;\n        img {\n            width: 100%;\n        }\n    }\n"]);return M=function(){return e},e}var P=Object(d.a)(C.a)(M()),T=function(e){var t=e.city;return Object(r.jsx)(P,{children:t.error?Object(r.jsx)(F,{component:"city description",error:t.error}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(A.a,{overlay:Object(r.jsx)(q.a,{title:t.title}),children:Object(r.jsx)("img",{src:t.image,alt:t.title})}),Object(r.jsx)(_.a,{dangerouslySetInnerHTML:{__html:S()(t.description)}})]})})},J=n(140),L=n.n(J);function W(){var e=Object(h.a)(["\n    && {\n        width: 40% !important;\n        height: 40% !important;\n    }\n"]);return W=function(){return e},e}function B(){var e=Object(h.a)(["\n    font-size: 5vw;\n    margin: 0;\n"]);return B=function(){return e},e}function D(){var e=Object(h.a)(["\n    display: flex;\n    margin-top: 1vw;\n    margin-bottom: 1vw;\n    align-items: center;\n    flex-direction: row;\n    justify-content: space-evenly;\n"]);return D=function(){return e},e}function H(){var e=Object(h.a)(["\n    && {\n        margin-top: 3vw;\n        width: 40%;\n        float: right;\n    }\n"]);return H=function(){return e},e}var N=Object(d.a)(C.a)(H()),R=d.a.div(D()),V=d.a.p(B()),Z=Object(d.a)(L.a)(W()),G=function(e){var t=e.weather;return Object(r.jsx)(N,{children:t.error?Object(r.jsx)(F,{component:"weather",error:t.error}):Object(r.jsxs)(R,{children:[Object(r.jsx)(V,{children:t.temperature}),Object(r.jsx)(Z,{icon:t.icon})]})})},K=n(141),Q=n.n(K),X=n(142),Y=n.n(X),$=function(e){var t,n=e.setAddress,c=e.setCoords,i=Object(a.useState)(""),o=Object(p.a)(i,2),u=o[0],j=o[1],l=function(){var e=t.getPlace(),r=e.formatted_address;n(r),c((function(t){return Object(s.a)(Object(s.a)({},t),{},{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()})})),r&&j(r)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(Y.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA4S7a-WtPtr7UD7whHwe9nbsq6zpShc_U&libraries=places,geometry&language=en",onLoad:function(){(t=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["(cities)"]})).addListener("place_changed",l)}}),Object(r.jsx)(Q.a,{id:"autocomplete",onRequestSearch:function(){return!1},onChange:function(){return!1},placeholder:"",hintText:"Search City",value:u,style:{margin:"0 auto",marginTop:"2vw",maxWidth:800}})]})};function ee(){var e=Object(h.a)(["\n    && {\n    }\n"]);return ee=function(){return e},e}function te(){var e=Object(h.a)(["\n    && {\n    }\n"]);return te=function(){return e},e}function ne(){var e=Object(h.a)(["\n    && {\n        float: left;\n        max-height: 48px;\n        max-width: 48px;\n        margin: 0.5vw;\n    }\n"]);return ne=function(){return e},e}function re(){var e=Object(h.a)(["\n    && {\n        height: 20%;\n        cursor: pointer;\n    }\n"]);return re=function(){return e},e}var ae=d.a.div(re()),ce=d.a.img(ne()),ie=d.a.h3(te()),oe=d.a.p(ee()),se=function(){return Object(r.jsxs)(ae,{onClick:function(){window.open(details.url)},children:[Object(r.jsx)(ce,{src:details.image?details.image.url:"http://icons.iconarchive.com/icons/icons8/windows-8/128/City-No-Camera-icon.png"}),Object(r.jsx)(ie,{children:details.title}),Object(r.jsx)(oe,{children:details.venue_name})]})};function ue(){var e=Object(h.a)(["\n  && {\n    color: #982520;\n    text-align: center;\n  }\n"]);return ue=function(){return e},e}function je(){var e=Object(h.a)(["\n    && {\n        margin-top: 3vw;\n        width: 40%;\n        float: right;\n    }\n"]);return je=function(){return e},e}var le=Object(d.a)(C.a)(je()),pe=d.a.h1(ue()),fe=function(e){var t=e.events;return Object(r.jsx)(le,{children:t.error?Object(r.jsx)(F,{component:"events",error:t.error}):t.eventsArr.length?Object(r.jsx)(r.Fragment,{children:t.eventsArr.map((function(e){return Object(r.jsx)(se,{details:e},e.id)}))}):Object(r.jsx)(pe,{align:"center",variant:"display2",children:"No events found."})})},be=function(){var e=Object(a.useState)("Initial"),t=Object(p.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),o=Object(p.a)(i,2),u=o[0],f=o[1],h=Object(a.useState)({}),d=Object(p.a)(h,2),O=d[0],v=d[1],g=Object(a.useState)({}),x=Object(p.a)(g,2),m=x[0],w=x[1],k=Object(a.useState)({}),S=Object(p.a)(k,2),C=S[0],A=S[1],q=Object(a.useState)({}),_=Object(p.a)(q,2),z=_[0],E=_[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([U(),F(),M()]).then((function(e){console.log(e),c(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object.keys(O).length&&u&&(c(!0),e())}),[O,u]);var I=function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(n=e.sent,console.log(n),n.ok){e.next=7;break}return e.abrupt("return",{error:"".concat(n.status," ").concat(n.statusText)});case 7:return e.abrupt("return",n.json());case 10:e.prev=10,e.t0=e.catch(0),console.error("Error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r,a,c,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("https://en.wikipedia.org/w/api.php?format=json&origin=*&action=query&list=search&utf8=&srsearch=".concat(u));case 2:if(!(t=e.sent)||"error"in t){e.next=17;break}return n=t.query.search[0].pageid,e.next=7,I("https://en.wikipedia.org/w/api.php?format=json&origin=*&action=query&prop=extracts&exintro=&pageids=".concat(n));case 7:return r=e.sent,a=r.query.pages[n].title,c=r.query.pages[n].extract,e.next=12,I("https://en.wikipedia.org/w/api.php?format=json&origin=*&action=query&prop=pageimages&&piprop=original&titles=".concat(a));case 12:i=e.sent,o=i.query.pages[n].original.source,w(Object(s.a)(Object(s.a)({},m),{},{title:a,description:c,image:o,error:""})),e.next=18;break;case 17:w(Object(s.a)(Object(s.a)({},m),{},{error:(null===t||void 0===t?void 0:t.error)||"Unknown error"}));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("https://api.darksky.net/forecast/3ebf0a35b462ec06a8299fc803dfe539/".concat(O.lat,",").concat(O.lng,"?units=si&exclude=minutely,hourly,daily,alerts,flags"));case 2:(t=e.sent)&&!("error"in t)?(n=Math.round(t.currently.temperature)+"\xb0C",r=t.currently.icon.replace(/-/g,"_").toUpperCase(),A(Object(s.a)(Object(s.a)({},C),{},{temperature:n,icon:r,error:""}))):A(Object(s.a)(Object(s.a)({},C),{},{error:(null===t||void 0===t?void 0:t.error)||"Unknown error"}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("http://api.eventful.com/json/events/search?app_key=pMZVPqg7vM3CW3fM&where=".concat(O.lat,",").concat(O.lng,"&within=25&page_size=5"));case 2:(t=e.sent)&&!("error"in t)?(n=t.events,E({eventsArr:n,error:""})):E(Object(s.a)(Object(s.a)({},z),{},{error:(null===t||void 0===t?void 0:t.error)||"Unknown error"}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"Initial"===n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{setAddress:f,setCoords:v}),Object(r.jsx)(y,{})]}):n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{setAddress:f,setCoords:v}),Object(r.jsx)("div",{style:{textAlign:"center",marginTop:"10vh"},children:Object(r.jsx)(b.a,{type:"Oval",color:"grey",height:200,width:200})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{setAddress:f,setCoords:v}),Object(r.jsx)(G,{weather:C}),Object(r.jsx)(T,{city:m}),Object(r.jsx)(fe,{events:z})]})},he=n(143),de=n(144),Oe=n(146),ve=n(145);function ge(){var e=Object(h.a)(["\n  && {\n    color: #982520;\n  }\n"]);return ge=function(){return e},e}var xe=d.a.h1(ge()),me=function(e){Object(Oe.a)(n,e);var t=Object(ve.a)(n);function n(e){var r;return Object(he.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(de.a)(n,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0}),console.error(e)}},{key:"render",value:function(){return this.state.hasError?Object(r.jsx)(C.a,{children:Object(r.jsx)(xe,{align:"center",variant:"display2",children:"Oops! Something went wrong!"})}):this.props.children}}]),n}(c.a.Component);o.a.render(Object(r.jsx)(me,{children:Object(r.jsx)(be,{})}),document.getElementById("root"))}},[[268,1,2]]]);
//# sourceMappingURL=main.d3c9b4b7.chunk.js.map